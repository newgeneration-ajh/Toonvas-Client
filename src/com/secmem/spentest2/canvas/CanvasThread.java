package com.secmem.spentest2.canvas;

import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Rect;
import android.view.SurfaceHolder;

public class CanvasThread implements Runnable
{
	private SurfaceHolder mHolder;
	private Thread mThread;
	private boolean mRun = false;
	private Bitmap frameBuffer = null;
	
	public CanvasThread(SurfaceHolder holder, Bitmap frameBuffer) {
		this.mHolder = holder;
		this.frameBuffer = frameBuffer;
		this.mThread = new Thread(this);
		this.mThread.start();
		this.mRun = true;
	}
	
	@Override
	public void run() {
		// TODO Auto-generated method stub
		while(mRun) {
			Rect rect = new Rect();
			Canvas canvas = mHolder.lockCanvas();
			canvas.getClipBounds(rect);
			canvas.drawBitmap(frameBuffer, null, null);
			mHolder.unlockCanvasAndPost(canvas);
			
		}
	}
}
